<button class="btn btn-primary btn-md" (click)="displayChatWindow=!displayChatWindow"
  style="position: fixed; bottom: 50px; right: 50px; z-index: 1030"><svg xmlns="http://www.w3.org/2000/svg" width="25"
    height="25" fill="currentColor" class="bi bi-chat-right-text" viewBox="0 0 16 16">
    <path
      d="M2 1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h9.586a2 2 0 0 1 1.414.586l2 2V2a1 1 0 0 0-1-1H2zm12-1a2 2 0 0 1 2 2v12.793a.5.5 0 0 1-.854.353l-2.853-2.853a1 1 0 0 0-.707-.293H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12z" />
    <path
      d="M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z" />
  </svg></button>

<section style="position: fixed; bottom: 100px; right: 50px; z-index: 1030" class="bg-indigo" [@flyInOut]
  *ngIf="displayChatWindow">

  <div class="container py-1">

    <div class="row d-flex justify-content-center">
      <div class="col-12 p-1">

        <div class="card" id="chat2">
          <div class="card-header d-flex justify-content-between align-items-center p-1">
            <h5 class="mb-0">Chat</h5>
            <button type="button" class="btn btn-primary btn-sm" data-mdb-ripple-color="dark"
              (click)="displayChatWindow=false">Close</button>
          </div>
          <div class="card-body" data-mdb-perfect-scrollbar="true" #chatBody
            style="position: relative; height: 250px; overflow: scroll; width: 400px">

            <span *ngFor="let message of messages">
              <app-message [type]="message.type">{{message.text}}</app-message>
            </span>
          </div>
          <span class="text-muted" *ngIf="isSearching">Searching...</span>
          <form id="search-form" [formGroup]="chatForm" (submit)="send()">
            <div class="card-footer text-muted d-flex justify-content-start align-items-center p-3">
              <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-person"
                viewBox="0 0 16 16">
                <path
                  d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z" />
              </svg>
              <input formControlName="message" type="text" class="form-control form-control-lg"
                placeholder="Type message" />
              <button type="submit" class="btn btn-primary btn-sm" data-mdb-ripple-color="dark">Send</button>
            </div>
          </form>
          
        </div>

      </div>
    </div>

  </div>
</section>